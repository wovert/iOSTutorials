# iOS

## Apple Product

- 1976 å¹´åˆ›ç«‹
- 1976å¹´æ¨å‡º Apple I(æ‹å–300ä¸‡ç¾å…ƒ)
- 1977å¹´æ¨å‡º Apple II
- 1980å¹´æ¨å‡º Apple III
  ï¼ 1983å¹´æ¨å‡º Apple Lisa
  ï¼ 1984å¹´æ¨å‡º Macintoshï¼ˆWindows å‚è€ƒMacintoshï¼‰
  ï¼ 1991å¹´æ¨å‡º PowerBookï¼Œ2006å¹´è¢«MacBookç³»åˆ—æ‰€å–ä»£
  ï¼ 1993å¹´æ¨å‡º Apple Newton æŒä¸Šç”µè„‘

## Apple ç”µè„‘äº§å“

ï¼ 1998å¹´æ¨å‡º iMacï¼ˆä¸€ä½“æœºï¼‰
ï¼ 2005å¹´æ¨å‡º Mac miniï¼ˆä¸»æœºç®±ï¼‰
ï¼ 2006å¹´æ¨å‡º Mac Proï¼ˆæœåŠ¡å™¨ï¼‰
ï¼ 2006å¹´æ¨å‡º MacBook
ï¼ 2006å¹´æ¨å‡º MacBook Pro
ï¼ 2008å¹´æ¨å‡º MacBook Air
 
ï¼ 2001 iPod
ï¼ 2004 iPod Mini
ï¼ 2005 iPod nanoã€iPod Shuffle
ï¼ 2007 iPod Classicã€iPod Touchï¼ˆiOSï¼‰

## Apple Mobile

- 2007 iPhone
- 2008 iPhone 3G
- 2009 iPhone 3GS
- 2010 iPhone 4 ä¹”å¸ƒæ–¯ç¦»ä¸–
- 2011 iPhone 4S
- 2012 iPhone 5
  ï¼ 2013 iPhone 5Sã€iPhone 5C

## Apple å¹³æ¿ç”µè„‘

- 2010 iPad
- 2011 iPad 2
- 2012 iPad mini
- 2006 Apple TV

## OS X(v10,x:unix)æ“ä½œç³»ç»Ÿ

- 2001 å¹´ä» Macintosh ç”µè„‘ä¸Šåˆ†ç¦»å‡ºæ¥æˆä¸º OS X 10.0
- 2001 OS X 10.1
- 2002 OS X 10.2, 10.3
- 2005 OS X 10.4
- 2006 OS X 10.5
- 2008 OS X 10.6
- 2010 OS X 10.7 appstore
- 2012 OS X 10.8
- 2013 **OS X 10.9** çœç”µï¼ˆåå°è¿›ç¨‹ï¼‰ï¼Œå†…å­˜å‹ç¼©
- 2014 OS X 10.10

### OS Xç³»ç»Ÿå¸¸è§„è®¾ç½®

- & + w å…³é—­æ–‡ä»¶
- & + q å…³é—­åº”ç”¨
- alt + é€‰æ‹©åº”ç”¨ = å¼ºåˆ¶é€€å‡º

- æ˜¾ç¤ºéšè—æ–‡ä»¶
- `$ defaults write com.apple.finder AppleShowAllFiles -bool true`
- `$ defaults write com.apple.finder AppleShowAllFiles -bool false`

- `$ ddefaults write com.apple.finder AppleShowAllFiles YES`
- `$ defaults write com.apple.finder AppleShowAllFiles NO`

### ä¸‹è½½åº”ç”¨

- [macx.cn](https://www.macx.cn)
- CleanMyMac åº”ç”¨æ¸…ç†å¹²å‡€åˆ é™¤çš„åº”ç”¨

###  OS Xç³»ç»Ÿæ¶æ„

- C/C++, Object-C, Swift => OS x => Unix

## iOS history

- 2007 iPhone Runs OS x
- 2008 iPhone OS
- 2010 iOS, **iOS4**(multi process)
  - åå°è¿è¡Œè¿›ç¨‹ä¸€æ®µæ—¶é—´ï¼Œçœç”µæ¨¡å¼ã€‚ä¸ä½¿ç”¨OSè´Ÿè´£å›æ”¶
  - å¾…æœºæ¯”Androidæ›´é•¿æ—¶é—´
- 2011 iOS5
- 2012 iOS6
- 2013 iOS7(æ‰å¹³åŒ–)
- 2014 iOS8
 - ä¸åŒåº”ç”¨ç¨‹åºé€šè¿‡OSæ•°æ®äº¤æ¢

### iOS ç³»ç»Ÿæ¶æ„

- C/C++, Object-C, Swift => iOS => Unix
- luaè¯­è¨€å¼€å‘å¹¶åœ¨IOSè®¾å¤‡è¿è¡Œ

## iOS è½¯ç¡¬ä»¶ç¯å¢ƒè¦æ±‚

- ç¡¬ä»¶ç¯å¢ƒè¦æ±‚
  - CPU åŒæ ¸
  - å†…å­˜ 8Gï¼ˆé›†æˆå¼€å‘ç¯å¢ƒæ¶ˆè€—å¾ˆå¤šå†…å­˜ï¼‰
  - MacBook Pro
  - æµ‹è¯•æ‰‹æœºiPhone 5+

- è½¯ä»¶ç¯å¢ƒè¦æ±‚
  - OS X 10.9.3ï¼‹
  - Xcode 6.0+

## Android vs iOS

| æ¯”è¾ƒ   |      iOS      |  Android |
|----------|:-------------:|------:|
| ç³»ç»Ÿæ¶æ„ |  åŸºäºUnix | åŸºäºLinuxçš„è™šæ‹Ÿæœº |
| ç³»ç»Ÿå®‰å…¨æ€§ |    å®‰å…¨ã€ç¨³å®š   |   å®‰å…¨æ€§ç•¥ä½ |
| å¼€å‘éš¾æ˜“åº¦ | å¼ºå¤§çš„SDK |    SDKä¹Ÿä¸å·® |
| æ˜¯å¦å¼€æº | ä¸å¼€æº |    å¼€æº |
| è®¾å¤‡çš„ç§ç±» | iPhone/iPadç­‰ |    æ•°ä¸æ¸…çš„è®¾å¤‡ç±»å‹ |
| ç”¨æˆ·äººç¾¤ | æ¶ˆè´¹èƒ½åŠ›å¼ºçš„é«˜ç«¯ç”¨æˆ· |    å„ç§ç”¨æˆ·äººç¾¤ |
| èƒŒåçš„BOSS | Apple |    Google |
| åº”ç”¨å•†åº— | AppStore(08å¹´ä¸Šçº¿) |    GooglePlay |

## åˆ›å»ºé¡¹ç›®

### Sinble View Application

![åˆ›å»ºSingle View Application](./images/SingleViewApp.png)

1. Create a new Xcode project (iPhone/iPad/Mac)
1. iOS
2. Application
3. Single View Application
4. Options
  + Project Name : é¡¹ç›®å
  + Organization Name: ç»„ç»‡å (dev)
  + Organization Identifier: ç»„ç»‡IDï¼ˆcom.wovertï¼‰
  + Language: Swift/Object-C
  + Device : iPad/iPhone/Universal(åŒ…æ‹¬iPadå’ŒiPhone)

![è®¾ç½®é¡¹ç›®é€‰é¡¹](./images/create-pro.png)

- Product Name: é¡¹ç›®åç§°(study)
- Organization Name: ç»„ç»‡æœºæ„åç§°/å…¬å¸åç§° (weiming)
- Organization Identifier: å…¬å¸çš„å”¯ä¸€æ ‡è¯† (com.wovert)
- Bundle Identifier: åº”ç”¨ç¨‹åºäº§å“çš„å”¯ä¸€æ ‡è¯† (com.wovert.study)
- Language: å¼€å‘è¯­è¨€

![åº”ç”¨ç¨‹åºé…ç½®ä¿¡æ¯](./images/info-plist.png)
- Key: Main Storyboard file base name: `Main` å¯¹åº” `Mainã€‚storyboard`
- æ‰“å¼€ `Main.storyboardä¸»ç•Œé¢`: åº”ç”¨ç¨‹åºå¯åŠ¨ä¹‹åä¹‹è¡Œ`view Controller`æ–‡ä»¶
- View Controller Scene
  - View Controller
- é€‰ä¸­ view Controller å›¾æ ‡ ![view controlleræŒ‰é’®](./images/vc-icon.png) å³ä¸Šè§’æ˜¾ç¤º`show the idendity inspect`æŒ‰é’®ï¼Œæ­¤æ–‡ä»¶å…³è”çš„ç±»æ˜¯ `ViewController.swift` æ–‡ä»¶ ![å…³è”ViewCotnrolleræ–‡ä»¶](./images/vc-2-swift.png)
- åº”ç”¨ç¨‹åºå¯åŠ¨ä¹‹å ViewController åŠ è½½ä¹‹åä¹‹è¡Œ `viewDidLoad` æ–¹æ³•
- åœ¨ `viewDidLoad`æ–¹æ³•ä¸­çš„æœ€åä¸€è¡Œè¾“å…¥`print("Hello World\n")`
- æŒ‰ä¸‹ `Ctrl+r` è¿è¡Œç¨‹åº
- ![ç¼©å°è®¾å¤‡çª—å£](./images/device-scalar.png)


### å·¥ä½œç©ºé—´

> å¤šä¸ªå·¥ç¨‹é¡¹ç›®æ”¾åœ¨ä¸€èµ·æ–¹ä¾¿ç®¡ç†ï¼Œå·¥ä½œç©ºé—´å¯ä»¥æŠŠæ‰€æœ‰çš„å·¥ç¨‹é¡¹ç›®æ”¾åœ¨å·¥ä½œç©ºé—´è¿›è¡Œç®¡ç†ï½€

## å¿«æ·é”®

- ğŸ : Shift
- é£: Option
- ^: Command

- ä»£ç æç¤ºï¼šESC
- ç§»åŠ¨è¡Œï¼šalt + command + {[|]}
- é…ç½®ç¼–è¾‘å™¨: command + ,

- è¿è¡Œç¨‹åºï¼šcommand + r
- åœæ­¢ç¨‹åºï¼šcommand + .
- ç¼–è¯‘ç¨‹åºï¼šcommand + b

- æ˜¾ç¤ºæ§ä»¶ï¼šcommand + shift + l
- ç¼–è¾‘åŒºï¼šcommand + enter
- ä¸¤ä¸ªç¼–è¾‘åŒºï¼šcommand + option + enter
- ä¸¤ä¸ªåŒºåŸŸæ˜¾ç¤ºï¼šcommand + option + shifit + enter

- ctrl + 1~6
  - ctrl + 5 æ˜¾ç¤ºå½“å‰é¡¹ç›®æ–‡ä»¶åˆ—è¡¨
  - ctrl + 6 é€‰æ‹©æ–‡ä»¶çš„ä»£ç åŒºåŸŸ

- å¯¼èˆªåŒºåŸŸæ˜¾ç¤ºéšè—ï¼šcommand + 0
  - å¯¼èˆªé€‰é¡¹åˆ‡æ¢ï¼šcommand + 1~6
- å±æ€§åŒºåŸŸæ˜¾ç¤ºéšè—ï¼šcommand + alt + 0
  - å±æ€§åˆ‡æ¢é€‰é¡¹ï¼šcommand + option + 1~6
- è°ƒè¯•åŒºåŸŸæ˜¾ç¤ºéšè—ï¼šcommand + shift + y
  
### åˆ›å»º OS Xå‘½ä»¤è¡Œç¨‹åºé¡¹ç›®

- åœ¨å·¥ä½œç©ºé—´åˆ›å»º New Project -> OS X -> Command Line Too

### åˆ›å»º OS Xçª—ä½“ç¨‹åºé¡¹ç›®

- åœ¨å·¥ä½œç©ºé—´åˆ›å»º New Project -> OS X -> Cocoa Application

### åˆ›å»º OS X æ¸¸æˆç¨‹åºé¡¹ç›®

- åœ¨å·¥ä½œç©ºé—´åˆ›å»º New Project -> OS X -> Game
- Game Technology
  - SpriteKit: 2Dæ¸¸æˆ
  - SceneKit: 3Dæ¸¸æˆ

### åˆ›å»º iOS æ¸¸æˆç¨‹åºé¡¹ç›®

- åœ¨å·¥ä½œç©ºé—´åˆ›å»º New Project -> iOS -> Game
- Game Technology
  - SpriteKit: 2Dæ¸¸æˆ
  - SceneKit: 3Dæ¸¸æˆ
  - OpenGL ES
    - OpenGL: å¼€æºç»˜å›¾æ ‡å‡†
  - Metal: è‹¹æœç»˜å›¾æ ‡å‡†

## Playground

> ç¼–å†™ç¨‹åºåŒæ—¶æ˜¾ç¤ºå˜é‡çš„å˜åŒ–æˆ–è°ƒè¯•ç¨‹åºæ—¶ä½¿ç”¨ playground

## iOS Xcode å¸®åŠ©æ–‡æ¡£çš„ä½¿ç”¨

- é€‰ä¸­åŸç”Ÿåå­— -> helpèœå• -> Quick Help for Selected Item

## è§£å†³é—®é¢˜çš„é€”å¾„

- æœç´¢å¼•æ“
  - [bing](http://bing.com)
  - [so](http://so.com)
- æŠ€æœ¯äº¤æµè®ºå›
- æŠ€æœ¯é—®ç­”å¹³å°
  - [stackoverflow](http://stackoverflow.com)
- [github](http://github.com)

## å¦‚ä½•æé—®

- è¯­è¨€ç®€æ´ã€é—®é¢˜æ˜äº†
- é—®é¢˜æ¸…æ™°
- å®šä½é—®é¢˜åŸå› 
- ç‰¹å®šé—®é¢˜éœ€è¦æè¿°åœºæ™¯ã€æ“ä½œã€é”™è¯¯ç»“æœ

## ç¨‹åºæ‰“åŒ…å‘å¸ƒåˆ° AppStore

- æ¨¡æ‹Ÿå™¨ä¸­è¿è¡Œç¨‹åº
  - hardware èœå•æ§åˆ¶æ¨¡æ‹Ÿå™¨ï¼ˆæ–¹å‘ã€æ—‹è½¬ç­‰æ“ä½œï¼‰
  - å›åˆ°ä¸»é¡µé¢ï¼šcommand + shift + h
- çœŸæœºä¸­è¿è¡Œç¨‹åº
  - 1. å¿…é¡»æœ‰å¼€å‘è€…è¯ä¹¦ï¼šhttps://developer.apple.com/devcenter/
  - 2. å·¥ç¨‹é¡¹ç›®é…ç½®ä¸­ä¸çœŸæœºOSç‰ˆæœ¬ä¸€ç›´
    - Deployment Info -> Deployment Target
    - è¿è¡Œç¨‹åº
    - æ·»åŠ  AppleID
    - Windowèœå• -> Orgnizeré€‰é¡¹ -> deviceé€‰é¡¹å¡ -> Screenshot

- å‘å¸ƒç¨‹åº
  - 1. é€‰ä¸­é¡¹ç›® -> producèœå• ï¼> Archive å½’æ¡£
  - 2. é€‰ä¸­é¡¹ç›® -> æŒ‰ä¸‹ Distribute -> App Store -> Next
  - 3. è‹¹æœå…¬å¸è¿›è¡Œå®¡æ ¸

## Swift

### å˜é‡

```
var a = 1
var b = 2
```

### å¸¸é‡

```
let c:Int = 20
```

### æ•°æ®ç±»å‹

#### Stringç±»å‹

- å­—ç¬¦ä¸²é“¾æ¥


```
var i = 200
var str = "hello "
str = str + " wovert.com"
//str = str + 10
str = "\(str), world, 100, \(i)"
```

#### æ•°ç»„

```
var nums = []
var names = String("a","b")
var arr = ["hello", "wovert.com", 100, 200]
```

#### å­—å…¸

```
var dict = ["name":"wovert", "age": 2]
dict["gender"] = "30"
```

### å‡½æ•°

```
func getNums()->(Int, Int) {
  return (2,3)
}
```

### OOP

- ç±»çš„åŠ¨æ€æ‰©å±•ï¼šä¸æ”¹å˜ç±»çš„ç»“æ„ä¸‹ï¼Œæ‰©å±•ç±»çš„åŠŸèƒ½çš„æ–¹å¼



## iOS WebView

**resource load since it is insecure. Temporary exceptions can be configured via your app's Info.plist**

![webview setting](./images/webview-set.png)

1. é€‰æ‹©é¡¹ç›®
2. info
3. App Transport Security Settings
4. Allow Arbitrary Loads
5. Exception Domains
6. wovert.com å¯è®¿é—®åœ°å€

## Swfit è°ƒç”¨ OS

## è°ƒè¯•

- è¾“å‡ºä¿¡æ¯å®šä½é”™è¯¯
- æ–­ç‚¹è°ƒè¯•
  - Step Over: ä¸€æ­¥ä¸€æ­¥
  - Step Into: è¿›æ–¹æ³•
  - Step Out: å‡ºæ–¹æ³•


## Objective-C è¯­è¨€ç®€ä»‹

> ç®€ç§° ObjC æˆ– OCï¼Œåœ¨ Cè¯­è¨€åŸºç¡€ä¸Šåšäº†é¢å‘å¯¹è±¡æ‰©å±•

ï¼ 1980å¹´ä»£åˆç”± Brad Cox å’Œ Tom Love å‘æ˜ï¼Œåæ¥æˆä¸º NeXT çš„ä¸»åŠ›è¯­è¨€ï¼Œåè¢«è‹¹æœæ”¶è´­ï¼Œæˆä¸ºè‹¹æœå¼€å‘å¹³å°çš„åŠ©ç†è¯­è¨€
ï¼ ä¸ CoCoa å’Œ Cocoa Touch æ¡†æ¶é«˜åº¦é›†æˆï¼Œæ”¯æŒå¼€å‘ Mac OS Xã€IOSåº”ç”¨
ï¼ åœ¨è‹¹æœå¼€å‘å¹³å°ä¸Šï¼Œé€šè¿‡LLVMç¼–è¯‘å™¨æ¶æ„ï¼Œæ”¯æŒä¸Swiftè¯­è¨€åŒå‘äº’æ“ä½œ

## Objective-C æ¼”æŠ€è„‰ç»œ

- 1972ï¼ŒC, Dennis Ritche
- 1982, Smalltalk, Alan Kay
- 1983, C++, Bjarne Stroustrup
- 1983, Objective-C Brad Cox, Tom Love
- 2014, Swift, Chris Lattner

```
++++++++++++++ ++++++++++++++++++++ ++++++++++++++++  ++++++++++++++
+++ Swift ++++ ++++ Objective-C +++ ++++++ C/C++ +++  ++++++++++++++
++++++++++++++ ++++++++++++++++++++ ++++++++++++++++  ++++++++++++++
                                                      ++++++++++++++
++++++++++++++++++++++++++++++++++++++++++++++++++++  ++++++++++++++
+++ LLVM Compile Framework & Objective-C Runtime +++  ++++++++++++++
++++++++++++++++++++++++++++++++++++++++++++++++++++  ++++++++++++++
                                                      ++++++++++++++
++++++++++++++++++++++++++++++++++++++++++++++++++++  ++ Multi-Touch / Alerts / Core Motion / Web View  ++
++++++++++++++++++ Cocoa Touch +++++++++++++++++++++  ++ View Hierarchy / Map Kit / Localization / Image Picker ++
++++++++++++++++++++++++++++++++++++++++++++++++++++  ++ Controls / Camera ++
                                                      ++++++++++++++
++++++++++++++++++++++++++++++++++++++++++++++++++++  ++ Core Audio / JPEG,PNG,TIFF / OpenAL / PDF / Audio Mixing ++
++++++++++++++++++++ Media +++++++++++++++++++++++++  ++ Quartz(2d) / Audio Recording / Core Animation  ++
++++++++++++++++++++++++++++++++++++++++++++++++++++  ++  Video Playback / OpenGL ES ++
                                                      ++++++++++++++
++++++++++++++++++++++++++++++++++++++++++++++++++++  ++ Collections(Core Location) ++
++++++++++++++++++ Core Services +++++++++++++++++++  ++ Address Book / Net Services / Networking / hreading ++
++++++++++++++++++++++++++++++++++++++++++++++++++++  +++ File Access / Preferences) / SQLite / URL Utilities ++
                                                      ++++++++++++++
++++++++++++++++++++++++++++++++++++++++++++++++++++  ++ OXS Kernel / Power Management +++++++++++
++++++++++++++++++++ Core OS +++++++++++++++++++++++  ++ Mach 3.0 / Keychain Access / BSD / Certificates +++
++++++++++++++++++++++++++++++++++++++++++++++++++++  ++ Sockets / File System / Security / Bonjour ++
```

## å¦‚ä½•æŒæ¡é«˜çº§å˜æˆè¯­è¨€

- åº•å±‚æ€ç»´ï¼šå‘ä¸‹ï¼Œå¦‚ä½•æŠŠæ¡æœºå™¨åº•å±‚ä»å¾®è§‚ç†è§£å¯¹è±¡æ„é€ 
  - è¯­è¨€æ„é€ 
  - ç¼–è¯‘è½¬æ¢
  - å†…å­˜æ¨¡å‹
  - è¿è¡Œæ—¶æœºåˆ¶
- æŠ½è±¡æ€ç»´ï¼šå‘ä¸Šï¼Œå¦‚ä½•å°†æˆ‘ä»¬çš„å‘¨å›´ä¸–ç•ŒæŠ½è±¡ä¸ºç¨‹åºä»£ç 
  - é¢ç›¸å¯¹è±¡
  - ç»„å»ºå°è£…
  - è®¾è®¡æ¨¡å¼
  - æ¶æ„æ¨¡å¼

## â€æ—¶ç©ºäººâ€œä¸‰ä½ä¸€ä½“åˆ†ææ³•

- å¯¹æ—¶é—´åˆ†æ â€”â€” å‘ç”Ÿåœ¨ä»€ä¹ˆæ—¶å€™ï¼Ÿ**compile-time VS run-time**
- ç©ºé—´åˆ†æ â€”â€” å˜é‡æ”¾åœ¨å“ªé‡Œ? **stack VS heap**
- äººç‰©åˆ†æ â€”â€” ä»£ç å“ªé‡Œæ¥çš„ï¼Ÿ**programmer VS compiler/runtime/framework**

## ä¸¤ç§å¼€å‘æ–¹å¼

- 1. **Clang** æˆ– **gcc** å‘½ä»¤è¡Œ
  - `# clang/gcc -fobjc-arc HelloWorld.m -o HelloWorld`
    - `-fobjc-arc` æ”¯æŒARCå†…å­˜ç®¡ç†
    ï¼ é€‚åˆè°ƒè¯•ã€ç ”ç©¶ã€å¾®è§‚æ¢æµ‹
- 2. Xcode é¡¹ç›®
  - æ„å»ºæ­£è§„å·¥ç¨‹é¡¹ç›®
  - ä½¿ç”¨å¤§å‹æ¡†æ¶ï¼Œè¿½æ±‚è®¾è®¡è´¨é‡ä¸ä»£ç ç»„ç»‡

### HelloWorld

``` sh
$ vi helloworld/HelloWorld.m

ç¼–è¯‘
$ clang -fobjc-arc HelloWorld.m -o HelloWorld
$ gcc -fobjc-arc HelloWorld.m -o HelloWorld

è¿è¡Œ
$ ./HelloWorld

å¸®åŠ©
$ clang --help
```

## ObjC ç¼–è¯‘è¿‡ç¨‹

ç¼–è¯‘å‰æ®µå·¥å…·(gcc/clang) ï¼> ä¼˜åŒ–å™¨ ï¼> ä»£ç ç”Ÿæˆå™¨

LLVM: Low Level VirtualMachine

![ObjC ç¼–è¯‘æµç¨‹](./images/objc-flow.png)

## å­¦ä¹ èµ„æº

ï¼ [è‹¹æœå®˜æ–¹æ–‡æ¡£](https://developer.apple.com/develop/)
  - [Programming with Objective-C](https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/ProgrammingWithObjectiveC/Introduction/Introduction.html)
  - [iOS](https://developer.apple.com/library/ios/)

- è‹¹æœå¼€å‘è€…å¤§ä¼š WWDC 
  - [2017](https://developer.apple.com/videos/wwdc2017/)
  - [2018](https://developer.apple.com/videos/wwdc2018/)

---

## ObjectC è¯­è¨€

### ç±»ä¸å¯¹è±¡

- å¼•ç”¨ç±»å‹ reference type
  - ç±» class
  - æŒ‡é’ˆ pointer
  - å— block
- å€¼ç±»å‹ value type
  - åŸºç¡€æ•°å€¼ç±»å‹
  - ç»“æ„ struct
  - æšä¸¾ enum
- ç±»å‹è£…é¥°
  - åè®® protocol
  - ç±»åˆ« category
  - æ‰©å±• extension

### ç±»ä¸ç»“æ„ï¼ˆclass VS structï¼‰

- ç±»å‹ä¸å®ä¾‹
  - ç±»ä¸å¯¹è±¡
  - ç»“æ„ä¸å€¼
- ç±»â€”â€”å¼•ç”¨ç±»å‹
  - ä½äºæ ˆä¸Šçš„æŒ‡é’ˆï¼ˆå¼•ç”¨ï¼‰
  - ä½äºå †ä¸Šçš„å®ä½“å¯¹è±¡
- ç»“æ„â€”â€”å€¼ç±»å‹
  - å®ä¾‹ç›´æ¥ä½äºæ ˆä¸­
- ç©ºé—´åˆ†æ
  - å˜é‡åœ¨é‚£é‡Œï¼Ÿ **è¿è¡Œæ—¶å†…å­˜å›¾**

### å¯¹è±¡çš„ç©ºé—´åˆ†æ

![å¯¹è±¡å†…å­˜ç©ºé—´åˆ†æ](./images/object-in-memory.png)
![ç»“æ„å†…å­˜ç©ºé—´åˆ†æ](./images/struct-in-memory.png)

### Stack VS Heap

- stack: å­˜å‚¨**å€¼ç±»å‹**
  - æ— ARC(è‡ªåŠ¨å¼•ç”¨è®¡æ•°) è´Ÿæ‹…ï¼Œç”±ç³»ç»Ÿè‡ªåŠ¨ç®¡ç†ï¼Œä»¥æ‰§è¡Œå‡½æ•°ä¸ºå•ä½
  - ç©ºé—´å¤§å°ç¼–è¯‘æ—¶ç¡®å®šï¼ˆå‚æ•°ï¼‹å±€éƒ¨å˜é‡ï¼‰
  - å‡½æ•°æ‰§è¡Œæ—¶ï¼Œç³»ç»Ÿç«‹å³è‡ªåŠ¨å›æ”¶ stack
  - å‡½æ•°ä¹‹è¡Œç»“æŸï¼Œç³»ç»Ÿç«‹å³è‡ªåŠ¨å›æ”¶ stack
  - å‡½æ•°ä¹‹é—´é€šè¿‡æ‹·è´å€¼ä¼ é€’
  - å…·æœ‰å±€éƒ¨æ€§ï¼Œå¤§å°æœ‰é™é¢ï¼Œè¶…å‡ºä¼š stack overflow
- heap: å­˜å‚¨å¼•ç”¨ç±»å‹å¯¹è±¡
  - åˆ†é…æœ‰ç¨‹åºå‘˜æ‰‹åŠ¨è¯·æ±‚ï¼ˆåˆ›å»ºå¯¹è±¡æ—¶ï¼‰
  - é‡Šæ”¾ç”±è¿è¡Œæ—¶ARCæœºåˆ¶è‡ªåŠ¨é‡Šæ”¾ï¼ˆç¡®å®šæ—¶ï¼‰
  - å‡½æ•°ä¹‹é—´é€šè¿‡æ‹·è´å¼•ç”¨ï¼ˆæŒ‡é’ˆï¼‰ä¼ é€’
  - å…·æœ‰å…¨å±€æ€§ï¼Œæ€»ä½“æ— å¤§å°é™åˆ¶ï¼ˆå—åˆ¶äºç³»ç»Ÿå†…å­˜æ•´ä½“å¤§å°ï¼‰

### ç±»å‹æˆå‘˜â€”â€”Type Member

- æ•°æ®æˆå‘˜ data member æè¿°**å¯¹è±¡çŠ¶æ€**
  - å®ä¾‹å˜é‡ instance variable(å¯¹å†…,å†…éƒ¨çŠ¶æ€)
  - å±æ€§ propertyï¼ˆå¯¹å¤–ï¼Œå¤–éƒ¨çŠ¶æ€ï¼‰
- å‡½æ•°æˆå‘˜ function member æè¿°å¯¹è±¡è¡Œä¸º
  - æ–¹æ³• method
  - åˆå§‹åŒ–å™¨ initï¼ˆç‰¹æ®Šæ–¹æ³•ï¼‰
  - ææ„å™¨ dealloc ï¼ˆç‰¹æ®Šæ–¹æ³•ï¼‰

#### è®¤è¯†å±æ€§

- å±æ€§è¡¨è¾¾å®ä¾‹çŠ¶æ€ï¼Œæè¿°ç±»å‹å¯¹å¤–æ¥å£ã€‚ç›¸æ¯”ç›´æ¥è®¿é—®å®ä¾‹å˜é‡ï¼Œå±æ€§å¯ä»¥åšæ›´å¤šæ§åˆ¶

- é»˜è®¤æƒ…å†µä¸‹ï¼Œç¼–è¯‘å™¨ä¼šä¸ºå±æ€§å®šä¹‰ propertyName è‡ªåŠ¨åˆæˆï¼›
  - ä¸€ä¸ª getter è®¿é—®å™¨æ–¹æ³•ï¼špropertyName
  - ä¸€ä¸ª setter è®¿é—®å™¨æ–¹æ³•ï¼šsetPropertyName
  - ä¸€ä¸ªå®ä¾‹å˜é‡ _propertyName

- å¯è‡ªå®šä¹‰è®¿é—®å™¨çš„æ–¹æ³•ï¼Œä¹Ÿå¯æ›´æ”¹è®¿é—®å™¨æ–¹æ³•åã€æˆ–å®ä¾‹å˜é‡å
- å¯ä»¥ä½¿ç”¨é™æ€å…¨å±€å˜é‡ï¼ˆCè¯­è¨€ï¼‰ï¼‹ç±»æ–¹æ³•ï¼Œæ¨¡æ‹Ÿç±»å‹å±æ€§

#### å®ä¾‹å˜é‡

- å¯ä»¥å®šä¹‰å®ä¾‹å˜é‡ï¼Œè€Œä¸å®šä¸€å±æ€§ã€‚åªæœ‰å®ä¾‹å˜é‡ï¼Œæ²¡æœ‰ç±»å˜é‡ï¼ˆå¯ä»¥ç»“åˆCè¯­è¨€æ¨¡æ‹Ÿï¼‰ã€‚
- å¦‚æœåŒæ—¶è‡ªå®šä¹‰äº†getterå’Œsetterè®¿é—®å™¨çš„æ–¹æ³•ï¼Œæˆ–è€…é’ˆå¯¹åªè¯»å±æ€§å®šä¹‰äº† getterè®¿é—®å™¨æ–¹æ³•ï¼Œç¼–è¯‘å™¨å°†ä¸å†åˆæˆå®ä¾‹å˜é‡ã€‚

- å†ç±»å¤–ä¸€å¾‹ä½¿ç”¨å±æ€§æ¥è®¿é—®ï¼Œç±»å†…å¤§å¤šä¹Ÿé€šè¿‡ self ä½¿ç”¨å±æ€§è®¿é—®ã€‚åªæœ‰ä¸€ä¸‹æƒ…å†µä½¿ç”¨å®ä¾‹å˜é‡æ¥è®¿é—®
  - åˆå§‹åŒ–å™¨ init
  - ææ„å™¨ dealloc
  - è‡ªå®šä¹‰è®¿é—®å™¨æ–¹æ³•


## Warning

App Transport Security has blocked a cleartext HTTP (http://) resource load since it is insecure. Temporary exceptions can be configured via your app's Info.plist file.

è§£å†³æ–¹æ¡ˆï¼š

æ³¨ : App Transport Security (ATS) æ˜¯ IOS9 ä¸­å¼•å…¥çš„æ–°ç‰¹æ€§

ä»¥ä¸Šç”¨ä¸€å¥è¯æ¦‚æ‹¬å°±æ˜¯: æ–°ç‰¹æ€§è¦æ±‚ App å†…è®¿é—®çš„ç½‘ç»œå¿…é¡»ä½¿ç”¨HTTPSåè®®

- è§£å†³æ–¹æ¡ˆ
  - 1. åœ¨ Info.plist ä¸­æ·»åŠ NSAppTransportSecurityç±»å‹Dictionaryã€‚
  - 2. åœ¨NSAppTransportSecurityä¸‹æ·»åŠ NSAllowsArbitraryLoadsç±»å‹Boolean, å€¼è®¾ä¸ºYES

## swift4-å‡½æ•°çš„å‡½æ•°å®é™…å‚æ•°æ ‡ç­¾å’Œå½¢å¼å‚æ•°å

### å½¢å¼å‚æ•° = å®é™…å‚æ•°æ ‡ç­¾ + å½¢å¼å‚æ•°å

- å³ï¼šæ¯ä¸€ä¸ªå‡½æ•°çš„ å½¢å¼å‚æ•° éƒ½åŒ…å« å®é™…å‚æ•°æ ‡ç­¾ å’Œ å½¢å¼å‚æ•°åã€‚
- å®é™…å‚æ•°æ ‡ç­¾ï¼šç”¨åœ¨è°ƒç”¨å‡½æ•°çš„æ—¶å€™ï¼ˆåœ¨è°ƒç”¨å‡½æ•°çš„æ—¶å€™æ¯ä¸€ä¸ªå®é™…å‚æ•°å‰è¾¹éƒ½è¦å†™å®é™…å‚æ•°æ ‡ç­¾ï¼‰ã€‚
- å½¢å¼å‚æ•°åï¼šç”¨åœ¨å‡½æ•°çš„å®ç°å½“ä¸­

æ³¨æ„ï¼š**swifté»˜è®¤**æƒ…å†µä¸‹ï¼Œå½¢å¼å‚æ•°ä½¿ç”¨å®ƒä»¬çš„**å½¢å¼å‚æ•°å**ä½œä¸º**å®é™…å‚æ•°æ ‡ç­¾**ã€‚

ä¾‹å¦‚ï¼š

``` swift
func someFunction(firstParameterName: Int, secondParameterName: Int) {}
```
firstParameterNameå’ŒsecondParameterNameæ—¢æ˜¯å®é™…å‚æ•°æ ‡ç­¾ï¼Œä¹Ÿæ˜¯å½¢å¼å‚æ•°åã€‚

### æŒ‡å®šå®é™…å‚æ•°æ ‡ç­¾

ä½†æ˜¯æœ‰æ—¶å€™ä¸ºäº†ä½¿å‡½æ•°æ›´å…·**å¯è¯»æ€§å’Œè¯­ä¹‰æ€§**ï¼Œå°±å¯ä»¥æŒ‡å®šä¸€ä¸‹**å®é™…å‚æ•°æ ‡ç­¾**ã€‚
ä¾‹å¦‚ï¼š

``` swift
func greet(person: String, from hometown: String) -> String {
    return "Hello \(person)!  Glad you could visit from \(hometown)."
}
print(greet(person: "Bill", from: "Cupertino"))
```

ä»£ç ä¸­çš„ 'fromeâ€™å°±æ˜¯æŒ‡å®šçš„å®é™…å‚æ•°æ ‡ç­¾

### çœç•¥å®é™…å‚æ•°æ ‡ç­¾

å¦‚æœå¯¹äºå‡½æ•°çš„å½¢å¼å‚æ•°ä¸æƒ³ä½¿ç”¨å®é™…å‚æ•°æ ‡ç­¾çš„è¯ï¼Œå¯ä»¥åˆ©ç”¨ä¸‹åˆ’çº¿ï¼ˆ _ ï¼‰æ¥ä¸ºè¿™ä¸ªå½¢å¼å‚æ•°ä»£æ›¿æ˜¾å¼çš„å®é™…å‚æ•°æ ‡ç­¾ã€‚
ä¾‹å¦‚ï¼š

``` swift
func someFunction(_ firstParameterName: Int, secondParameterName: Int) {
    // In the function body, firstParameterName and secondParameterName
    // refer to the argument values for the first and second parameters.
}
someFunction(1, secondParameterName: 2)
```

## ç»“æ„ä½“ä¸ç±»çš„åŒºåˆ«

1. ç»“æ„ä½“æ²¡æœ‰ç»§æ‰¿
2. ç»“æ„ä½“æ˜¯å€¼ç±»å‹ï¼Œç±»æ˜¯å¼•ç”¨ç±»å‹

